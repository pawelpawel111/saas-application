{"ast":null,"code":"var _jsxFileName = \"C:\\\\SaaSapp\\\\saas-system\\\\frontend\\\\src\\\\components\\\\ServicesList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ServicesList = () => {\n  _s();\n  const [services, setServices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [message, setMessage] = useState(null);\n  const fetchServices = async () => {\n    setLoading(true); // Ustaw ładowanie na true przed pobraniem danych\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Brak tokenu uwierzytelniającego.');\n      }\n      const response = await axios.get('/api/services', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setServices(response.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchServices();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage(null);\n    setError(null);\n    if (!name || !description || !price) {\n      setError('Wszystkie pola są wymagane.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Brak tokenu uwierzytelniającego.');\n      }\n      await axios.post('/api/services', {\n        name,\n        description,\n        price\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage('Usługa dodana pomyślnie.');\n      setName('');\n      setDescription('');\n      setPrice('');\n      fetchServices(); // Wywołaj fetchServices po dodaniu usługi, aby zaktualizować listę\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0141adowanie...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'red'\n    },\n    children: [\"Wyst\\u0105pi\\u0142 b\\u0142\\u0105d: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Lista Us\\u0142ug\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [message && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'green'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nazwa:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Opis:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Cena:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: price,\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Dodaj us\\u0142ug\\u0119\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), services.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: services.map(({\n        id,\n        name,\n        description,\n        price\n      }) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [name, \" - \", description, \" - \", price, \" z\\u0142\"]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Brak us\\u0142ug do wy\\u015Bwietlenia.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(ServicesList, \"iyE0EaMq+O9axLpjWAtkcHma5as=\");\n_c = ServicesList;\nexport default ServicesList;\nvar _c;\n$RefreshReg$(_c, \"ServicesList\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ServicesList","_s","services","setServices","loading","setLoading","error","setError","name","setName","description","setDescription","price","setPrice","message","setMessage","fetchServices","token","localStorage","getItem","Error","response","get","headers","Authorization","data","err","handleSubmit","e","preventDefault","post","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","onSubmit","type","value","onChange","target","length","map","id","_c","$RefreshReg$"],"sources":["C:/SaaSapp/saas-system/frontend/src/components/ServicesList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ServicesList = () => {\r\n    const [services, setServices] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [message, setMessage] = useState(null);\r\n\r\n    const fetchServices = async () => {\r\n        setLoading(true); // Ustaw ładowanie na true przed pobraniem danych\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            if (!token) {\r\n                throw new Error('Brak tokenu uwierzytelniającego.');\r\n            }\r\n            const response = await axios.get('/api/services', {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n            setServices(response.data);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchServices();\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setMessage(null);\r\n        setError(null);\r\n        if (!name || !description || !price) {\r\n            setError('Wszystkie pola są wymagane.');\r\n            return;\r\n        }\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            if (!token) {\r\n                throw new Error('Brak tokenu uwierzytelniającego.');\r\n            }\r\n            await axios.post('/api/services', { name, description, price }, {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n            setMessage('Usługa dodana pomyślnie.');\r\n            setName('');\r\n            setDescription('');\r\n            setPrice('');\r\n            fetchServices(); // Wywołaj fetchServices po dodaniu usługi, aby zaktualizować listę\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div>Ładowanie...</div>;\r\n    if (error) return <div style={{ color: 'red' }}>Wystąpił błąd: {error}</div>;\r\n\r\n    return (\r\n        <div>\r\n            <h2>Lista Usług</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                {message && <p style={{ color: 'green' }}>{message}</p>}\r\n                {error && <p style={{ color: 'red' }}>{error}</p>}\r\n                <label>Nazwa:</label>\r\n                <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\r\n                <label>Opis:</label>\r\n                <textarea value={description} onChange={(e) => setDescription(e.target.value)} />\r\n                <label>Cena:</label>\r\n                <input type=\"number\" value={price} onChange={(e) => setPrice(e.target.value)} />\r\n                <button type=\"submit\">Dodaj usługę</button>\r\n            </form>\r\n\r\n            {services.length > 0 ? (\r\n                <ul>\r\n                    {services.map(({ id, name, description, price }) => (\r\n                        <li key={id}>\r\n                            {name} - {description} - {price} zł\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            ) : (\r\n                <div>Brak usług do wyświetlenia.</div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ServicesList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}