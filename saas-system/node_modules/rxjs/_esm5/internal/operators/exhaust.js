/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */
import * as tslib_1 from "tslib";
import { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';
export function exhaust() {
    return function (source) { return source.lift(new RoutesFirstOperator()); };
}
var RoutesFirstOperator = /*@__PURE__*/ (function () {
    function RoutesFirstOperator() {
    }
    RoutesFirstOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RoutesFirstSubscriber(subscriber));
    };
    return RoutesFirstOperator;
}());
var RoutesFirstSubscriber = /*@__PURE__*/ (function (_super) {
    tslib_1.__extends(RoutesFirstSubscriber, _super);
    function RoutesFirstSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasCompleted = false;
        _this.hasSubscription = false;
        return _this;
    }
    RoutesFirstSubscriber.prototype._next = function (value) {
        if (!this.hasSubscription) {
            this.hasSubscription = true;
            this.add(innerSubscribe(value, new SimpleInnerSubscriber(this)));
        }
    };
    RoutesFirstSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (!this.hasSubscription) {
            this.destination.complete();
        }
    };
    RoutesFirstSubscriber.prototype.notifyComplete = function () {
        this.hasSubscription = false;
        if (this.hasCompleted) {
            this.destination.complete();
        }
    };
    return RoutesFirstSubscriber;
}(SimpleOuterSubscriber));
//# sourceMappingURL=exhaust.js.map
